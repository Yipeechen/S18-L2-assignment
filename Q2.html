<html>
<head>
  <script>
  "use strict";
  function validate() {
    var nric = document.getElementById("nric");
    var code = nric.value;
    if(code == ""){
      alert("欄位不能空白！");
      return;
    } else if( !isNaN(code)){
      alert("請輸入縣市英文代碼！");
      return;
    } else if( code.length != 10 ) {
      alert("輸入的長度不正確！");
      return;
    } else {
      
      var char = code[0];
      // 額外查詢縣市的 function
      var city = findCity(char);
      if(!city){
        alert("縣市錯誤，這不是一個正確的身分證字號！");
        return;
      }

      // 查詢性別的 function
      var char1 = code[1];
      var gender = findGender(char1);
      if (!gender) {
        alert("性別錯誤，這不是一個正確的身分證字號！");
        return;
      }

    }
    document.getElementById("result").innerHTML = "性別：" + gender + "/ 縣市：" + city + "， 通過驗證";
  }


  // 查詢性別的功能
  function findGender(char1) {
    switch(char1) {
      case"1": return "男生";
      case"2": return "女生";
      default: return false;
    }
  }

  // 額外查詢縣市的功能
  function findCity( char ) {
    char = char.toLowerCase();
    switch(char) {
      case "a": return "臺北市";
      case "b": return "臺中市";
      case "c": return "基隆市";
      case "d": return "臺南市";
      case "e": return "高雄市";
      case "f": return "新北市";
      case "g": return "宜蘭縣";
      case "h": return "桃園縣";
      case "i": return "嘉義市";
      case "j": return "新竹縣";
      case "k": return "苗栗縣";
      case "l": return "臺中縣";
      case "m": return "南投縣";
      case "n": return "彰化縣";
      case "o": return "新竹市";
      case "p": return "雲林縣";
      case "q": return "嘉義縣";
      case "r": return "臺南縣";
      case "s": return "高雄縣";
      case "t": return "屏東縣";
      case "u": return "花蓮縣";
      case "v": return "臺東縣";
      case "w": return "金門縣";
      case "x": return "澎湖縣";
      case "y": return "陽明山";
      case "z": return "連江縣";
      default: return false;
    }
  }
  </script>
</head>
<body>
  <form>
    身分證字號：
    <input type="text" id="nric">
    <input type="button" value="驗證" onclick="validate()">
    <p id="result"></p>
  </form>
</body>
</html>